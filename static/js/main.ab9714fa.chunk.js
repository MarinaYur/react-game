(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},21:function(e,t,s){},23:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),r=s(10),n=s.n(r),o=(s(19),s(9)),c=s(5),l=s(6),m=s(11),d=s(12),u=s(2),h=s(14),b=s(13),g=(s(20),s.p+"static/media/logo.ad178c0d.svg"),j=s(3),p=s.p+"static/media/birds.3515c56d.mp3",O=s.p+"static/media/sound.11b9ae53.mp3",v=(s(21),s(0));function N(){var e=document.getElementById("audio-music"),t=document.getElementById("audio-sound"),s=Object(a.useState)("0"),i=Object(j.a)(s,2),r=i[0],n=i[1],o=Object(a.useState)(0),c=Object(j.a)(o,2),l=c[0],m=c[1],d=Object(a.useState)("0"),u=Object(j.a)(d,2),h=u[0],b=u[1],g=Object(a.useState)("x"),N=Object(j.a)(g,2),f=N[0],C=N[1],x=Object(a.useState)("x"),S=Object(j.a)(x,2),k=S[0],y=S[1];function T(t){t.target.value!==t.target.min&&C(""),t.target.value===t.target.min?(C("x"),e.pause()):(e.play(),e.volume=t.target.value/10)}return Object(a.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("dataMusicSound"));e&&(n(e.volumeSound),m(e.valueMusic),b(e.valueSound),C(e.musicOff),y(e.soundOff))}),[]),Object(a.useEffect)((function(){var e={volumeSound:r,valueMusic:l,valueSound:h,musicOff:f,soundOff:k};sessionStorage.setItem("dataMusicSound",JSON.stringify(e))})),Object(v.jsx)("div",{className:"sounds-statistic",children:Object(v.jsxs)("div",{className:"sound-control",children:[Object(v.jsx)("audio",{volume:l/10,loop:!0,id:"audio-music",src:p}),Object(v.jsxs)("p",{className:"sound-control__music",children:["Music",Object(v.jsx)("span",{className:"sound-control__Off",children:f})]}),Object(v.jsx)("input",{id:"range",min:"0",max:"10",type:"range",value:l,name:"range",step:"1",onLoad:T,onClick:T,onChange:function(e){return m(l=e.target.value)}}),Object(v.jsx)("audio",{id:"audio-sound",volume:r,src:O}),Object(v.jsxs)("p",{className:"sound-control__sound",children:["Sound",Object(v.jsx)("span",{className:"sound-control__Off",children:k})]}),Object(v.jsx)("input",{id:"range",min:"0",max:"10",type:"range",value:h,name:"range",step:"1",onInput:function(e){return b(h=e.target.valueSound)},onClick:function(e){e.target.value!==e.target.min&&y(""),e.target.value===e.target.min?(y("x"),n(e.target.value/10),t.pause()):e.target.value===e.target.max&&(t.play(),n(e.target.value/10)),n(e.target.value/10),t.play(),t.volume=e.target.value/10},onChange:function(e){return b(h=e.target.valueSound)}})]})})}var f=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(m.a)(this,s),(a=t.call(this,e)).timer=function(){},a.theBestResult=0,a.displayStatistics="statistics-list",a.statistics=[],a.twoOpenedValue=[],a.setTimer="No timer",a.state={cardLimitation:0,imageNumber:[],progressGame:"before start: cards not available",remainingTime:"No timer",setNumberOfCards:"12",backgroundColor:"rgba(21, 126, 7, 0.61)",countPairsOfOpenedCards:1,popapMessage:'To start the game, click on the "Start Game"',classActive:"statistics-list_none"},a.startGame=a.startGame.bind(Object(u.a)(a)),a.timeToRemember=a.timeToRemember.bind(Object(u.a)(a)),a.openCloseCards=a.openCloseCards.bind(Object(u.a)(a)),a.timerOfGame=a.timerOfGame.bind(Object(u.a)(a)),a.chooseTimer=a.chooseTimer.bind(Object(u.a)(a)),a.chooseNumberOfCards=a.chooseNumberOfCards.bind(Object(u.a)(a)),a.setBackgroundColor=a.setBackgroundColor.bind(Object(u.a)(a)),a.hideExtraCards=a.hideExtraCards.bind(Object(u.a)(a)),a.finishGame=a.finishGame.bind(Object(u.a)(a)),a.fullscreen=a.fullscreen.bind(Object(u.a)(a)),a.showStatistics=a.showStatistics.bind(Object(u.a)(a)),a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.userState=JSON.parse(sessionStorage.getItem("userState")),sessionStorage.getItem("userState")?this.setState({cardLimitation:this.userState.cardLimitation,imageNumber:this.userState.imageNumber,progressGame:this.userState.progressGame,remainingTime:this.userState.remainingTime,setNumberOfCards:this.userState.setNumberOfCards,backgroundColor:this.userState.backgroundColor,countPairsOfOpenedCards:this.userState.countPairsOfOpenedCards,popapMessage:this.userState.popapMessage,classActive:this.userState.classActive}):this.setState({cardLimitation:0,imageNumber:[],progressGame:"before start: cards not available",remainingTime:"No timer",setNumberOfCards:"12",backgroundColor:"rgba(21, 126, 7, 0.61)",countPairsOfOpenedCards:1,popapMessage:'To start the game, click on the "Start Game"',classActive:"statistics-list_none"}),sessionStorage.getItem("theBestResult")&&(this.theBestResult=sessionStorage.getItem("theBestResult")),sessionStorage.getItem("timer")&&(this.timer=sessionStorage.getItem("timer")),sessionStorage.getItem("displayStatistics")&&(this.displayStatistics=sessionStorage.getItem("displayStatistics")),sessionStorage.getItem("twoOpenedValue")&&(this.twoOpenedValue=sessionStorage.getItem("twoOpenedValue").split(",")),sessionStorage.getItem("setTimer")&&(this.setTimer=sessionStorage.getItem("setTimer")),sessionStorage.getItem("statistics")&&(this.statistics=sessionStorage.getItem("statistics").split(","))}},{key:"componentDidUpdate",value:function(e,t){this.timerOfGame(),sessionStorage.setItem("userState",JSON.stringify(t)),sessionStorage.setItem("userProps",JSON.stringify(e)),sessionStorage.setItem("theBestResult",this.theBestResult),sessionStorage.setItem("displayStatistics",this.displayStatistics),sessionStorage.setItem("statistics",this.statistics),sessionStorage.setItem("twoOpenedValue",this.twoOpenedValue),sessionStorage.setItem("setTimer",this.setTimer),sessionStorage.setItem("timer",this.timer)}},{key:"fullscreen",value:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},{key:"chooseTimer",value:function(e){"before start: cards not available"===this.state.progressGame&&(this.setTimer=e.target.getAttribute("data"),this.setState({remainingTime:e.target.getAttribute("data")}))}},{key:"chooseNumberOfCards",value:function(e){"before start: cards not available"===this.state.progressGame&&this.setState({setNumberOfCards:e.target.getAttribute("data")})}},{key:"setBackgroundColor",value:function(e){console.log("this.state.progressGame",this.state.progressGame),"before start: cards not available"===this.state.progressGame&&this.setState({backgroundColor:e.target.getAttribute("data")}),e.target.closest(".App").style.background=this.state.backgroundColor}},{key:"isActiveButton",value:function(e){return this.setTimer===e?"clicked-timer":""}},{key:"isActiveButtonNumber",value:function(e){return this.state.setNumberOfCards===e?"clicked-timer":""}},{key:"isActiveButtonColor",value:function(e){return this.state.backgroundColor===e?"clicked-timer":""}},{key:"hideExtraCards",value:function(){return{display:"12"===this.state.setNumberOfCards?"none":"flex"}}},{key:"showStatistics",value:function(){"statistics-list_none"===this.state.classActive?this.setState({classActive:"statistics-list"}):this.setState({classActive:"statistics-list_none"})}},{key:"timerOfGame",value:function(e){var t=this;"No timer"!==this.state.remainingTime&&"before start: cards not available"!==this.state.progressGame&&(clearInterval(this.timer),this.timer=setInterval((function(){if(!t.state.remainingTime)return clearInterval(t.timer),!1;t.setState({remainingTime:t.state.remainingTime-1})}),1e3))}},{key:"finishGame",value:function(){this.setTimer="No timer",this.setState({cardLimitation:0,imageNumber:[],progressGame:"before start: cards not available",remainingTime:this.setTimer,setNumberOfCards:"12",backgroundColor:"rgba(21, 126, 7, 0.61)",countPairsOfOpenedCards:1,popapMessage:'To start the game, click on the "Start Game"'})}},{key:"startGame",value:function(e){if("user is playing"!==this.state.progressGame){for(var t=[],s=this.state.setNumberOfCards,a=1;a<=s;a++)t.push(a);this.shuffle(t,s),this.timeToRemember(t)}}},{key:"shuffle",value:function(e,t){for(var s=e.length-1;s>0;s--){var a=Math.floor(Math.random()*(s+1)),i=[e[a],e[s]];e[s]=i[0],e[a]=i[1],e[s]=e[s]>t/2?e.length+1-e[s]:e[s]}e[0]=e[0]>t/2?e.length+1-e[0]:e[0],this.setState({imageNumber:e,progressGame:"user is playing"})}},{key:"timeToRemember",value:function(e){var t=this;setTimeout((function(){for(var s=0;s<e.length;s++)e[s]=e[s]+"closed";t.setState({imageNumber:e}),t.timerOfGame()}),4e3)}},{key:"openCloseCards",value:function(e){var t=this;if(0!==this.state.remainingTime||"No timer"===this.state.remainingTime){if("user is playing"===this.state.progressGame&&(0===this.state.cardLimitation&&(this.twoOpenedValue=[]),this.state.cardLimitation<2)){var s=e.target.getAttribute("data-index"),a=parseInt(this.state.imageNumber[s]);this.twoOpenedValue.push(a),this.setState({imageNumber:Object(l.a)(Object(l.a)({},this.state.imageNumber),{},Object(c.a)({},s,a)),cardLimitation:this.state.cardLimitation+1}),2===this.twoOpenedValue.length&&(this.twoOpenedValue[0]===this.twoOpenedValue[1]?(this.twoOpenedValue=[],this.setState({countPairsOfOpenedCards:this.state.countPairsOfOpenedCards+1,cardLimitation:0}),this.state.countPairsOfOpenedCards===this.state.setNumberOfCards/2&&(this.statistics.push(this.setTimer-this.state.remainingTime),this.statistics.length>10&&this.statistics.shift(),this.theBestResult=Math.min.apply(Math,Object(o.a)(this.statistics.filter((function(e){return"number"===typeof e})))),this.setTimer="No timer",setTimeout((function(){return t.setState({progressGame:"before start: cards not available",popapMessage:'To start the new game, click on the "Start Game"',imageNumber:[],countPairsOfOpenedCards:1,remainingTime:"No timer"})}),3e3),this.setState({progressGame:"before start: cards not available",popapMessage:"Excellent. You won",remainingTime:this.setTimer}))):setTimeout((function(){for(var e in t.state.imageNumber){var s=t.state.imageNumber[e];t.setState({imageNumber:Object(l.a)(Object(l.a)({},t.state.imageNumber),{},Object(c.a)({},e,s===t.twoOpenedValue[0]||s===t.twoOpenedValue[1]?t.state.imageNumber[e]+"closed":t.state.imageNumber[e])),cardLimitation:0})}console.log("\u0434\u043e\u043b\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c\u0441\u044f"),t.twoOpenedValue=[]}),500))}}else 0===this.state.remainingTime&&(console.log("remainingTime losing",this.state.remainingTime),this.statistics.push("losing"),this.statistics.length>10&&this.statistics.shift(),this.theBestResult=Math.min.apply(Math,Object(o.a)(this.statistics.filter((function(e){return"number"===typeof e})))),this.setTimer="No timer",this.setState({remainingTime:"No timer",progressGame:"before start: cards not available",popapMessage:"Unfortunately, you did not meet the deadline"}),setTimeout((function(){return t.setState({popapMessage:'But you can try again, click on the "Start Game"',imageNumber:[],countPairsOfOpenedCards:1})}),3e3))}},{key:"addClassNotAvailable",value:function(){return"before start: cards not available"===this.state.progressGame?" not-available":""}},{key:"clickApp",value:function(){var e=document.getElementById("audio-sound");e.volume=e.getAttribute("volume"),e.pause(),e.load(),e.play()}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"App",style:{background:this.state.backgroundColor},onClick:this.clickApp,children:[Object(v.jsxs)("div",{className:"app-top",children:[Object(v.jsxs)("div",{className:"game-buttons",children:[Object(v.jsx)("button",{className:"fullscreen",onClick:this.fullscreen,children:"fullscreen"}),Object(v.jsx)("button",{className:"button-start",onClick:this.startGame,children:"Start game"}),Object(v.jsx)("button",{className:"button-finish",onClick:this.finishGame,children:"Finish game"})]}),Object(v.jsx)("div",{className:"popap"+("before start: cards not available"!==this.state.progressGame?" disappearance":""),children:this.state.popapMessage}),Object(v.jsxs)("div",{className:"customization",children:[Object(v.jsxs)("div",{className:"customization__top",children:[Object(v.jsxs)("p",{className:"customization-score",children:["Score",Object(v.jsx)("span",{children:this.state.countPairsOfOpenedCards-1})]}),Object(v.jsx)("p",{className:"customization_title",children:"Game settings"}),Object(v.jsxs)("div",{className:"statistics",children:[Object(v.jsx)("button",{className:"statistics__button",onClick:this.showStatistics,children:"Statistics"}),Object(v.jsxs)("div",{className:this.state.classActive,children:[Object(v.jsxs)("p",{className:"statistics__p",children:["The best",Object(v.jsx)("span",{className:"statistics__best",children:this.theBestResult})," seconds"]}),Object(v.jsxs)("ol",{children:[Object(v.jsx)("li",{children:this.statistics[0]}),Object(v.jsx)("li",{children:this.statistics[1]}),Object(v.jsx)("li",{children:this.statistics[2]}),Object(v.jsx)("li",{children:this.statistics[3]}),Object(v.jsx)("li",{children:this.statistics[4]}),Object(v.jsx)("li",{children:this.statistics[5]}),Object(v.jsx)("li",{children:this.statistics[6]}),Object(v.jsx)("li",{children:this.statistics[7]}),Object(v.jsx)("li",{children:this.statistics[8]}),Object(v.jsx)("li",{children:this.statistics[9]})]})]})]})]}),Object(v.jsxs)("div",{className:"settings",children:[Object(v.jsxs)("div",{className:"timer-game",children:[Object(v.jsxs)("p",{className:"customization__settings",children:["Timer: ",Object(v.jsx)("span",{children:this.state.remainingTime})]}),Object(v.jsx)("button",{data:"No timer",className:this.isActiveButton("No timer"),onClick:this.chooseTimer,children:"No timer"}),Object(v.jsx)("button",{data:"30",className:this.isActiveButton("30"),onClick:this.chooseTimer,children:"30 seconds"}),Object(v.jsx)("button",{data:"60",className:this.isActiveButton("60"),onClick:this.chooseTimer,children:"60 seconds"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"customization__settings",children:"Number of cards"}),Object(v.jsx)("button",{data:"12",className:this.isActiveButtonNumber("12"),onClick:this.chooseNumberOfCards,children:"12"}),Object(v.jsx)("button",{data:"18",className:this.isActiveButtonNumber("18"),onClick:this.chooseNumberOfCards,children:"18"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"customization__settings",children:"Background color"}),Object(v.jsx)("button",{data:"rgba(21, 126, 7, 0.61)",className:this.isActiveButtonColor("rgba(21, 126, 7, 0.61)"),onClick:this.setBackgroundColor,children:"Green"}),Object(v.jsx)("button",{data:"white",className:this.isActiveButtonColor("white"),onClick:this.setBackgroundColor,children:"White"})]})]}),Object(v.jsx)(N,{})]})]}),Object(v.jsxs)("div",{className:"block block-1",children:[Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[0]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"0"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[1]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"1"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[2]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"2"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[3]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"3"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[4]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"4"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[5]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"5"})]}),Object(v.jsxs)("div",{className:"block block-2",children:[Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[6]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"6"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[7]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"7"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[8]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"8"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[9]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"9"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[10]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"10"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[11]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"11"})]}),Object(v.jsxs)("div",{className:"block block-3",style:this.hideExtraCards(),children:[Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[12]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"12"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[13]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"13"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[14]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"14"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[15]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"15"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[16]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"16"}),Object(v.jsx)("div",{className:"image image"+this.state.imageNumber[17]+" "+this.addClassNotAvailable(),onClick:this.openCloseCards,"data-index":"17"})]}),Object(v.jsxs)("footer",{children:[Object(v.jsxs)("p",{className:"footer__title",children:["By ",Object(v.jsx)("a",{href:"https://github.com/MarinaYur",children:"Marina Yurkevich"}),", 2021"]}),Object(v.jsx)("a",{className:"footer__logo",href:"https://rs.school/js/",children:Object(v.jsx)("img",{src:g,alt:"logo"})})]})]})}}]),s}(i.a.Component),C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,24)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),a(e),i(e),r(e),n(e)}))};n.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(f,{})}),document.getElementById("root")),C()}},[[23,1,2]]]);
//# sourceMappingURL=main.ab9714fa.chunk.js.map