{"ast":null,"code":"var _jsxFileName = \"/Users/marina.yur/projects/react-game/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nlet timer = () => {};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.value = [];\n    this.timerSize = 0;\n    this.state = {\n      imageNumber: [],\n      identifier: 0,\n      imageOfOpenedCards: [],\n      startGame: 2,\n      remainingTime: 60,\n      buttonClasses: ['no-timer', 'timer30', 'timer60']\n    };\n    this.startGame = this.startGame.bind(this);\n    this.timer = this.timer.bind(this);\n    this.openCloseCards = this.openCloseCards.bind(this);\n    this.timerGame = this.timerGame.bind(this);\n    this.chooseTimer = this.chooseTimer.bind(this);\n  }\n\n  chooseTimer(e) {\n    if (e.target.innerHTML === 'No timer') {\n      this.setState({\n        remainingTime: 'No timer',\n        buttonClasses: ['no-timer clicked-timer', 'timer30', 'timer60']\n      });\n      return;\n    }\n\n    if (e.target.innerHTML === '30 seconds') {\n      this.setState({\n        remainingTime: '30'\n      });\n    }\n\n    if (e.target.innerHTML === '60 seconds') {\n      this.setState({\n        remainingTime: 60\n      });\n    }\n\n    let parent = e.target.closest('.timer-game');\n    console.log(parent);\n    console.log(parent.childNodes);\n\n    for (let i = 0; parent.childNodes.length; i++) {// if (parent.childNodes[i].includes('clicked-timer')) {\n      //   parent.childNodes[i].classList.value.remove('clicked-timer')};\n      //   continue;\n    }\n\n    console.log(Array.prototype.slice.call(parent.childNodes));\n    e.target.classList.add('clicked-timer');\n  } //timer setting\n\n\n  timerGame(e) {\n    this.setState({\n      remainingTime: this.timerSize\n    });\n    clearInterval(timer);\n    timer = setInterval(() => {\n      if (!this.state.remainingTime) {\n        clearInterval(timer);\n        return false;\n      }\n\n      this.setState(prevState => {\n        return {\n          remainingTime: prevState.remainingTime - 1\n        };\n      });\n    }, 1000);\n  } // раскладка карт при нажатии кнопки \"Начать игру\"\n\n\n  startGame(e) {\n    e.target.nextElementSibling.classList.add('disappearance');\n    this.setState({\n      startGame: 1\n    });\n    let arrayOfImageNumber = [];\n\n    for (let k = 1; k < 13; k++) {\n      arrayOfImageNumber.push(k);\n    } //Тасование Фишера — Йетса\n\n\n    for (let i = arrayOfImageNumber.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      [arrayOfImageNumber[i], arrayOfImageNumber[j]] = [arrayOfImageNumber[j], arrayOfImageNumber[i]];\n      arrayOfImageNumber[i] = arrayOfImageNumber[i] > 6 ? arrayOfImageNumber.length + 1 - arrayOfImageNumber[i] : arrayOfImageNumber[i];\n    }\n\n    arrayOfImageNumber[0] = arrayOfImageNumber[0] > 6 ? arrayOfImageNumber.length + 1 - arrayOfImageNumber[0] : arrayOfImageNumber[0];\n    this.setState({\n      imageNumber: arrayOfImageNumber\n    });\n    this.timer(arrayOfImageNumber);\n  }\n\n  timer(arrayOfImageNumber) {\n    setTimeout(() => {\n      for (let i = 0; i < arrayOfImageNumber.length; i++) {\n        arrayOfImageNumber[i] = arrayOfImageNumber[i] + 'closed';\n      }\n\n      this.setState({\n        imageNumber: arrayOfImageNumber,\n        startGame: 0\n      });\n      this.timerGame();\n    }, 4000);\n  }\n\n  openCloseCards(e) {\n    if (this.state.startGame === 2) {\n      e.target.classList.add('not-available');\n    }\n\n    if (!this.state.startGame) {\n      if (this.state.identifier < 2) {\n        let index = e.target.getAttribute('data-index');\n        let value = parseInt(this.state.imageNumber[index]);\n        this.value.push(value);\n        this.setState({\n          imageNumber: { ...this.state.imageNumber,\n            [index]: value\n          },\n          identifier: this.state.identifier + 1\n        }); // если две открытые карточки равны\n\n        if (this.value.length === 2) {\n          console.log(this.state.imageNumber);\n\n          if (this.value[0] === this.value[1]) {\n            this.setState({\n              identifier: 0\n            });\n            this.value = [];\n            console.log(this.value[0] === this.value[1]);\n          } else {\n            // если две открытые карточки НЕ равны, нужно их снова скрыть\n            setTimeout(() => {\n              for (let imageNumber in this.state.imageNumber) {\n                // if (!this.state.imageNumber[imageNumber].length > 1) {\n                console.log(this.state.imageNumber[imageNumber]);\n                const valueImageNumber = this.state.imageNumber[imageNumber];\n                this.setState({\n                  imageNumber: { ...this.state.imageNumber,\n                    [imageNumber]: valueImageNumber === this.value[0] || valueImageNumber === this.value[1] ? this.state.imageNumber[imageNumber] + 'closed' : this.state.imageNumber[imageNumber]\n                  },\n                  identifier: 0\n                });\n              }\n\n              this.value = [];\n              console.log(this.state.imageNumber, 'this.state.identifier', this.state.identifier);\n            }, 2000);\n          }\n        }\n\n        console.log(this.state.imageNumber[index], 'index:', e.target.getAttribute('data-index'), 'value:', value);\n        console.log('this.value.length:', this.value.length, this.value[0] === this.value[1]);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      onClick: this.howStartGame,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-start\",\n          onClick: this.startGame,\n          children: \"Start game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popap-to-start\",\n          children: \"To start the game, click on the \\\"Start Game\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"customization\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Game settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timer-game\",\n            onClick: this.timerGame,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Timer: \", this.state.remainingTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: this.state.buttonClasse[0],\n              onClick: this.chooseTimer,\n              children: \"No timer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: this.state.buttonClasse[1],\n              onClick: this.chooseTimer,\n              children: \"30 seconds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: this.state.buttonClasse[2],\n              onClick: this.chooseTimer,\n              children: \"60 seconds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block block-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[0],\n          onClick: this.openCloseCards,\n          \"data-index\": \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[1],\n          onClick: this.openCloseCards,\n          \"data-index\": \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[2],\n          onClick: this.openCloseCards,\n          \"data-index\": \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[3],\n          onClick: this.openCloseCards,\n          \"data-index\": \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block block-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[4],\n          onClick: this.openCloseCards,\n          \"data-index\": \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[5],\n          onClick: this.openCloseCards,\n          \"data-index\": \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[6],\n          onClick: this.openCloseCards,\n          \"data-index\": \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[7],\n          onClick: this.openCloseCards,\n          \"data-index\": \"7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block block-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[8],\n          onClick: this.openCloseCards,\n          \"data-index\": \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[9],\n          onClick: this.openCloseCards,\n          \"data-index\": \"9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[10],\n          onClick: this.openCloseCards,\n          \"data-index\": \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image image\" + this.state.imageNumber[11],\n          onClick: this.openCloseCards,\n          \"data-index\": \"11\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/marina.yur/projects/react-game/src/App.js"],"names":["React","timer","App","Component","constructor","props","value","timerSize","state","imageNumber","identifier","imageOfOpenedCards","startGame","remainingTime","buttonClasses","bind","openCloseCards","timerGame","chooseTimer","e","target","innerHTML","setState","parent","closest","console","log","childNodes","i","length","Array","prototype","slice","call","classList","add","clearInterval","setInterval","prevState","nextElementSibling","arrayOfImageNumber","k","push","j","Math","floor","random","setTimeout","index","getAttribute","parseInt","valueImageNumber","render","howStartGame","buttonClasse"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nlet timer = () => {};\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n    this.value = [];\n    this.timerSize = 0;\n    this.state = {\n      imageNumber: [],\n      identifier: 0,\n      imageOfOpenedCards: [],\n      startGame: 2,\n      remainingTime: 60,\n      buttonClasses: ['no-timer', 'timer30', 'timer60']\n    }\n    this.startGame = this.startGame.bind(this);\n    this.timer = this.timer.bind(this);\n    this.openCloseCards = this.openCloseCards.bind(this);\n    this.timerGame = this.timerGame.bind(this);\n    this.chooseTimer = this.chooseTimer.bind(this);\n  }\n\n\n  chooseTimer (e) {\n    \n    if (e.target.innerHTML === 'No timer') {\n      this.setState({remainingTime: 'No timer', buttonClasses: ['no-timer clicked-timer', 'timer30', 'timer60']});\n      return;\n    }\n    if (e.target.innerHTML === '30 seconds') {\n      this.setState({remainingTime: '30'});\n    }\n    if (e.target.innerHTML === '60 seconds') {\n      this.setState({remainingTime: 60});\n    }\n    let parent = e.target.closest('.timer-game');\n    console.log(parent);\n    console.log(parent.childNodes);\n    for (let i = 0; parent.childNodes.length; i ++) {\n      // if (parent.childNodes[i].includes('clicked-timer')) {\n      //   parent.childNodes[i].classList.value.remove('clicked-timer')};\n      //   continue;\n    }\n    console.log(Array.prototype.slice.call(parent.childNodes));\n    e.target.classList.add('clicked-timer');\n  }\n  //timer setting\n  timerGame (e) {\n    this.setState({remainingTime: this.timerSize});\n    clearInterval(timer);\n    timer = setInterval(() => {\n      if(!this.state.remainingTime) {\n        clearInterval(timer);\n        return false;\n      }\n      this.setState(prevState => {\n        return {remainingTime: prevState.remainingTime - 1}\n      });\n    }, 1000)\n  }\n  // раскладка карт при нажатии кнопки \"Начать игру\"\n  startGame (e) {\n    e.target.nextElementSibling.classList.add('disappearance');\n    this.setState({startGame: 1});\n    let arrayOfImageNumber = [];\n    for (let k = 1; k<13; k++){\n      arrayOfImageNumber.push(k);\n    }\n    //Тасование Фишера — Йетса\n    for (let i = arrayOfImageNumber.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      [arrayOfImageNumber[i], arrayOfImageNumber[j]] = [arrayOfImageNumber[j], arrayOfImageNumber[i]];\n      arrayOfImageNumber[i] = arrayOfImageNumber[i] > 6 ? arrayOfImageNumber.length + 1 - arrayOfImageNumber[i] : arrayOfImageNumber[i];\n    }\n    arrayOfImageNumber[0] = arrayOfImageNumber[0] > 6 ? (arrayOfImageNumber.length + 1 - arrayOfImageNumber[0]) : arrayOfImageNumber[0];\n    this.setState({imageNumber: arrayOfImageNumber});\n    this.timer(arrayOfImageNumber);\n  }\n\n  timer (arrayOfImageNumber) {\n    setTimeout (() => {\n      for (let i = 0; i < arrayOfImageNumber.length; i++) {\n        arrayOfImageNumber[i] = arrayOfImageNumber[i] + 'closed';\n      }\n      this.setState({\n        imageNumber: arrayOfImageNumber,\n        startGame: 0,\n      });\n\n    this.timerGame();\n    }, 4000);\n  }\n\n  openCloseCards (e) {\n    if (this.state.startGame === 2) {\n      e.target.classList.add('not-available');\n    }\n    if (!this.state.startGame) {\n      if (this.state.identifier < 2) {\n        let index = e.target.getAttribute('data-index');\n        let value = parseInt(this.state.imageNumber[index]);\n        this.value.push(value);\n        this.setState({\n          imageNumber: {\n            ...this.state.imageNumber,\n            [index]: value,\n          },\n          identifier: this.state.identifier + 1,\n        })\n        // если две открытые карточки равны\n        if (this.value.length === 2 ) {\n          console.log(this.state.imageNumber);\n          if (this.value[0] === this.value[1]) {\n            this.setState({\n              identifier: 0,\n            })\n            this.value = [];\n            console.log(this.value[0] === this.value[1]);\n          } else {\n              // если две открытые карточки НЕ равны, нужно их снова скрыть\n              setTimeout (() => {\n                for (let imageNumber in this.state.imageNumber) {\n                  // if (!this.state.imageNumber[imageNumber].length > 1) {\n                    console.log(this.state.imageNumber[imageNumber]);\n                    const valueImageNumber = this.state.imageNumber[imageNumber];\n                  this.setState({\n                    imageNumber: {\n                      ...this.state.imageNumber,\n                      [imageNumber]: valueImageNumber === this.value[0] || valueImageNumber === this.value[1] ? this.state.imageNumber[imageNumber] + 'closed' : this.state.imageNumber[imageNumber] \n                    },\n                    identifier: 0,\n                  })\n                }\n                this.value = [];\n                console.log(this.state.imageNumber, 'this.state.identifier', this.state.identifier);\n              }, 2000);\n            }\n        }\n        console.log(this.state.imageNumber[index], 'index:', e.target.getAttribute('data-index'), 'value:', value);\n        console.log('this.value.length:', this.value.length, this.value[0] === this.value[1]);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\" onClick={this.howStartGame}>\n        <div className=\"app-top\">\n          <button className=\"button-start\" onClick={this.startGame}>Start game</button>\n          <div className=\"popap-to-start\">To start the game, click on the \"Start Game\"</div>\n          <div className=\"customization\">\n            <p>Game settings</p>\n            <div className=\"timer-game\" onClick={this.timerGame}>\n              <p>Timer: {this.state.remainingTime}</p>\n              <button className={this.state.buttonClasse[0]} onClick={this.chooseTimer}>No timer</button>\n              <button className={this.state.buttonClasse[1]} onClick={this.chooseTimer}>30 seconds</button>\n              <button className={this.state.buttonClasse[2]} onClick={this.chooseTimer}>60 seconds</button>\n          </div>\n          </div>\n        </div>\n        <div className=\"block block-1\">\n          <div className={\"image image\" + this.state.imageNumber[0]} onClick={this.openCloseCards} data-index=\"0\"></div>\n          <div className={\"image image\" + this.state.imageNumber[1]} onClick={this.openCloseCards} data-index=\"1\"></div>\n          <div className={\"image image\" + this.state.imageNumber[2]} onClick={this.openCloseCards} data-index=\"2\"></div>\n          <div className={\"image image\" + this.state.imageNumber[3]} onClick={this.openCloseCards} data-index=\"3\"></div>\n        </div>\n        <div className=\"block block-2\">\n          <div className={\"image image\" + this.state.imageNumber[4]} onClick={this.openCloseCards} data-index=\"4\"></div>\n          <div className={\"image image\" + this.state.imageNumber[5]} onClick={this.openCloseCards} data-index=\"5\"></div>\n          <div className={\"image image\" + this.state.imageNumber[6]} onClick={this.openCloseCards} data-index=\"6\"></div>\n          <div className={\"image image\" + this.state.imageNumber[7]} onClick={this.openCloseCards} data-index=\"7\"></div>\n        </div>\n        <div className=\"block block-3\">\n          <div className={\"image image\" + this.state.imageNumber[8]} onClick={this.openCloseCards} data-index=\"8\"></div>\n          <div className={\"image image\" + this.state.imageNumber[9]} onClick={this.openCloseCards} data-index=\"9\"></div>\n          <div className={\"image image\" + this.state.imageNumber[10]} onClick={this.openCloseCards} data-index=\"10\"></div>\n          <div className={\"image image\" + this.state.imageNumber[11]} onClick={this.openCloseCards} data-index=\"11\"></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}